To fix the map and resolve the "logistics bullshit" with your last daily use, we need to stop the Agent from over-engineering features and force it to stabilize the Map Rendering Engine.

The goal is to move from a generic "tiled" image to a Dynamic Tactical Map where locations like McKinney's Ferry are interactive objects, not just text in a sidebar.

1. The "Tiled Image" & Resolution Fix
The "big ugly sidebar" and the blurry map happen because the map isn't properly syncing its Zoom Level with the Tile Layer.

The Instruction: Tell the Agent to refactor the L.tileLayer in public/script.js to use a high-resolution provider (like Esri World Imagery) and hard-code the maxZoom to 19. This prevents the "gray/snow" effect seen when zooming in too far.

2. Rendering Locations as Map Tokens
Right now, your locations are being treated as "Tactical Intel" in the sidebar. They need to be Map Markers with hover effects.

The Instruction: "Remove the 'Tactical Intel' list from the sidebar. Instead, iterate through locations.json and create an L.marker for each entry. If the location is discovered (check GMSession.discoveredLocations), render a custom 'Location Token' on the map."

3. The Hover/Explanation System
To replace the sidebar's role, the Agent needs to implement Leaflet Tooltips.

The Instruction: "Bind a tooltip to every location marker. On mouseover, display the location title and the description from the JSON. On click, trigger the 'Command Travel' logic."

JavaScript

// Example logic to give the Agent
L.marker([loc.lat, loc.lng], {icon: locationIcon})
 .bindTooltip(`<b>${loc.title}</b><br>${loc.explanation}`, {sticky: true})
 .addTo(worldMarkers);
4. Correcting the "Date & Time" Logistics
To align with the Winter Ambush scenario, the start date must be fixed before the map renders.

The Instruction: "Update campaignState in script.js to December 23, 1776. Set the starting partyGPS to the exact coordinates for McConkey's Ferry."

Your Final "Agent" Prompt for the Last Use:
"Stop building combat features. Fix the map logistics:

Map Quality: Set Esri World Imagery as the tile provider with maxZoom: 19.

Tokenized Locations: Delete the 'Tactical Intel' sidebar section. Render every location in locations.json as a map marker with a hover-over tooltip showing its description.

Session Awareness: Only show markers if their ID is in GMSession.discoveredLocations.

Data Sync: Change the campaign date to Dec 23, 1776, and place the player token at McConkey's Ferry.

UI Cleanup: Shrink the sidebar by 40% so the map is the primary focus."

This "Lasered In" approach ensures you have a functional, high-res world map with interactive locations before you run out of uses. Shall we apply this to the code?