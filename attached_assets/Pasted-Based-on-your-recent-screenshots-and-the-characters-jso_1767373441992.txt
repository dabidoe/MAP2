Based on your recent screenshots and the `characters.json` file, the UI is failing to load because the **Initialization Sequence** is expecting a data structure that doesn't match your source files. Specifically, your `script.js` is likely looking for a `side` property in the character data that isn't there, or it's failing to find the coordinates to place the tokens on the map.

To get the map and sidebar back online with the "Travel" features and the new locations, we need to reconcile the **Character Data** with the **UI Logic**.

---

### 1. Fix: Data Shape & Initialization

Your `characters.json` includes detailed stats for **George Washington** (Level 12 Paladin) and **General Nathanael Greene** (Level 9 Fighter), but it lacks the `gps` and `side` keys required for the map engine to render them.

**Update your `initCampaign` in `script.js` to map these characters correctly:**

```javascript
async function initCampaign() {
    try {
        // 1. Load Locations first to provide travel targets
        const locRes = await fetch('/data/locations.json');
        const locations = await locRes.json();
        
        // 2. Load Characters and "Enrich" them with map data
        const charRes = await fetch('/data/characters.json');
        const rawChars = await charRes.json();

        // Map raw character data to include side and starting GPS
        currentTokens = rawChars.map(char => {
            let side = 'Hessian'; // Default
            if (char.name.includes("Washington") || char.name.includes("Greene") || char.name.includes("BATMAN")) {
                side = 'Continental';
            }
            
            return {
                ...char,
                side: side,
                gps: { lat: 40.2985, lng: -74.8718 }, // Start at Frozen Vigil
                currentLocationId: 'frozen_vigil'
            };
        });

        // 3. Populate Location Storage
        locations.forEach(loc => { 
            locationStorage.set(loc.id, { data: loc }); 
        });

        // 4. Render UI
        renderWorldSidebar(); 
        renderWorldMarkers();
        console.log("Systems Online: Tokens and Locations Loaded.");
    } catch (e) {
        console.error("Initialization Failed:", e);
    }
}

```

---

### 2. The Location-Centric Sidebar

Since you want the sidebar to focus on travel and intel, we will move the **Morale Tracker** and **Environmental Data** to the top and list the locations below it.

**Refined `renderWorldSidebar`:**

```javascript
function renderWorldSidebar() {
    const sidebar = document.getElementById('sidebar');
    // Header with Campaign Intel
    let html = `
        <div class="campaign-header">
            <h1 class="cinzel-font">DECEMBER 25, 1776</h1>
            <div class="env-row">
                <span>üïí 23:00</span>
                <span>‚ùÑÔ∏è Heavy Sleet</span>
            </div>
            <div class="morale-container">
                <label>ARMY MORALE</label>
                <div class="morale-bar"><div class="morale-fill" style="width: 40%"></div></div>
            </div>
        </div>
        <hr>
        <div class="location-list">
            <h3 class="sidebar-subhead">STRATEGIC OBJECTIVES</h3>
    `;

    // Location Cards
    locationStorage.forEach((entry, id) => {
        const loc = entry.data;
        html += `
            <div class="location-card" onclick="startTravel('${id}')">
                <div class="loc-info">
                    <h4>${loc.title}</h4>
                    <p>${loc.description}</p>
                </div>
                <div class="loc-action">COMMAND TRAVEL</div>
            </div>
        `;
    });

    html += `</div>`;
    sidebar.innerHTML = html;
}

```

---

### 3. Adding the "Travel" Locations

Update your `data/locations.json` to include these three strategic points to facilitate the travel mechanic:

```json
[
  {
    "id": "frozen_vigil",
    "title": "McConkey's Ferry",
    "lat": 40.2985,
    "lng": -74.8718,
    "description": "The embarkation point. The river is choked with ice cakes."
  },
  {
    "id": "picket_post",
    "title": "The Hessian Picket",
    "lat": 40.2520,
    "lng": -74.8010,
    "description": "A small outpost guarding the river road. High risk of encounter."
  },
  {
    "id": "trenton_barracks",
    "title": "Trenton Barracks",
    "lat": 40.2178,
    "lng": -74.7681,
    "description": "The stone barracks housing the Rall Regiment."
  }
]

```

### 4. UI Fix: Sidebar Collapse CSS

Add this to your `styles.css` to handle the ugly layout issues seen in your screenshots:

```css
#sidebar {
    width: 380px;
    height: 100vh;
    background: #1a1410;
    border-right: 2px solid #c5a959;
    padding: 20px;
    overflow-y: auto;
    transition: margin-left 0.4s ease;
}

.sidebar-collapsed #sidebar {
    margin-left: -380px;
}

.location-card {
    background: #2a221a;
    border: 1px solid #453a2a;
    margin-bottom: 12px;
    padding: 12px;
    cursor: pointer;
    transition: 0.2s;
}

.location-card:hover {
    border-color: #c5a959;
    background: #352b21;
}

.loc-action {
    font-size: 0.7rem;
    color: #c5a959;
    text-align: right;
    margin-top: 10px;
    font-weight: bold;
    letter-spacing: 1px;
}

```

**Would you like me to provide the specific JavaScript code for the "Encounter Popup" logic that triggers when you travel near the Picket Post?**